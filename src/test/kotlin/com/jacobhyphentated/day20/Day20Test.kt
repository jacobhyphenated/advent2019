package com.jacobhyphentated.day20

import com.jacobhyphenated.day20.Day20
import org.junit.jupiter.api.Test
import kotlin.test.assertEquals

class Day20Test {

    @Test
    fun testPart1_simple() {
        val input =
            """
                         A           
                         A           
                  #######.#########  
                  #######.........#  
                  #######.#######.#  
                  #######.#######.#  
                  #######.#######.#  
                  #####  B    ###.#  
                BC...##  C    ###.#  
                  ##.##       ###.#  
                  ##...DE  F  ###.#  
                  #####    G  ###.#  
                  #########.#####.#  
                DE..#######...###.#  
                  #.#########.###.#  
                FG..#########.....#  
                  ###########.#####  
                             Z       
                             Z       
            """.trimIndent()
        val day20 = Day20()
        assertEquals(23, day20.part1(input))
    }

    @Test
    fun testPart1_long() {
        val input =
            """
                                   A               
                                   A               
                  #################.#############  
                  #.#...#...................#.#.#  
                  #.#.#.###.###.###.#########.#.#  
                  #.#.#.......#...#.....#.#.#...#  
                  #.#########.###.#####.#.#.###.#  
                  #.............#.#.....#.......#  
                  ###.###########.###.#####.#.#.#  
                  #.....#        A   C    #.#.#.#  
                  #######        S   P    #####.#  
                  #.#...#                 #......VT
                  #.#.#.#                 #.#####  
                  #...#.#               YN....#.#  
                  #.###.#                 #####.#  
                DI....#.#                 #.....#  
                  #####.#                 #.###.#  
                ZZ......#               QG....#..AS
                  ###.###                 #######  
                JO..#.#.#                 #.....#  
                  #.#.#.#                 ###.#.#  
                  #...#..DI             BU....#..LF
                  #####.#                 #.#####  
                YN......#               VT..#....QG
                  #.###.#                 #.###.#  
                  #.#...#                 #.....#  
                  ###.###    J L     J    #.#.###  
                  #.....#    O F     P    #.#...#  
                  #.###.#####.#.#####.#####.###.#  
                  #...#.#.#...#.....#.....#.#...#  
                  #.#####.###.###.#.#.#########.#  
                  #...#.#.....#...#.#.#.#.....#.#  
                  #.###.#####.###.###.#.#.#######  
                  #.#.........#...#.............#  
                  #########.###.###.#############  
                           B   J   C               
                           U   P   P                    
            """.trimIndent()
        val day20 = Day20()
        assertEquals(58, day20.part1(input))
    }

    @Test
    fun testPart2_simple() {
        val input =
            """
                         A           
                         A           
                  #######.#########  
                  #######.........#  
                  #######.#######.#  
                  #######.#######.#  
                  #######.#######.#  
                  #####  B    ###.#  
                BC...##  C    ###.#  
                  ##.##       ###.#  
                  ##...DE  F  ###.#  
                  #####    G  ###.#  
                  #########.#####.#  
                DE..#######...###.#  
                  #.#########.###.#  
                FG..#########.....#  
                  ###########.#####  
                             Z       
                             Z       
            """.trimIndent()
        val day20 = Day20()
        assertEquals(26, day20.part2(input))
    }

    @Test
    fun testPart2_complex() {
        val input =
            """
                             Z L X W       C                 
                             Z P Q B       K                 
                  ###########.#.#.#.#######.###############  
                  #...#.......#.#.......#.#.......#.#.#...#  
                  ###.#.#.#.#.#.#.#.###.#.#.#######.#.#.###  
                  #.#...#.#.#...#.#.#...#...#...#.#.......#  
                  #.###.#######.###.###.#.###.###.#.#######  
                  #...#.......#.#...#...#.............#...#  
                  #.#########.#######.#.#######.#######.###  
                  #...#.#    F       R I       Z    #.#.#.#  
                  #.###.#    D       E C       H    #.#.#.#  
                  #.#...#                           #...#.#  
                  #.###.#                           #.###.#  
                  #.#....OA                       WB..#.#..ZH
                  #.###.#                           #.#.#.#  
                CJ......#                           #.....#  
                  #######                           #######  
                  #.#....CK                         #......IC
                  #.###.#                           #.###.#  
                  #.....#                           #...#.#  
                  ###.###                           #.#.#.#  
                XF....#.#                         RF..#.#.#  
                  #####.#                           #######  
                  #......CJ                       NM..#...#  
                  ###.#.#                           #.###.#  
                RE....#.#                           #......RF
                  ###.###        X   X       L      #.#.#.#  
                  #.....#        F   Q       P      #.#.#.#  
                  ###.###########.###.#######.#########.###  
                  #.....#...#.....#.......#...#.....#.#...#  
                  #####.#.###.#######.#######.###.###.#.#.#  
                  #.......#.......#.#.#.#.#...#...#...#.#.#  
                  #####.###.#####.#.#.#.#.###.###.#.###.###  
                  #.......#.....#.#...#...............#...#  
                  #############.#.#.###.###################  
                               A O F   N                     
                               A A D   M                     
            """.trimIndent()
        val day20 = Day20()
        assertEquals(396, day20.part2(input))
    }
}